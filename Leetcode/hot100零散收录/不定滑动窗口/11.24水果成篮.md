# 不定长滑动窗口

记住模板就很好做了

```go
func totalFruit(fruits []int) int {
    // 不定长的滑动窗口
    var left int = 0
    var right int = 0
    var max_fruit int = 0;
    var fruits_map map[int]int = make(map[int]int) 
    for right < len(fruits) {
        // 当新水果存在篮子就加入 右加加
        // 新水果不属于篮子 判断篮子现在的种类是否==2 等于2那只能移除左边的
        // 如果不等于2 那么可以加入
        var cur_fruir = fruits[right]
        _, exit := fruits_map[cur_fruir]
        for exit == false && len(fruits_map) == 2 {
            var left_fruit int = fruits[left];
            fruits_map[left_fruit]--;
            left++;
            if fruits_map[left_fruit]== 0 {
                delete(fruits_map, left_fruit)
            }
        }
        fruits_map[cur_fruir]++;
        max_fruit = max(max_fruit, right - left + 1)
        right++;
    }
    return max_fruit;
}
```